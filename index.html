<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quotify</title>
    <link rel="stylesheet" href="assets\css\style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Roboto+Slab:wght@300;500&display=swap" rel="stylesheet">
</head>
<body>

        <h1 class="title">Quotes from your favorite personalities!</h1>
        <div class="quote">
          <textarea class="quoteHolder">
          </textarea>
          <h6 class="authorHolder"></h6>
          <div class="buttonHolder">
            <button class="addToClipboard">ðŸ“Ž</button>
            <button class="searchPopUp" href="searchPage.html">ðŸ”Ž</button>
          </div>
          <button class="submit">Generate random quote</button>
        </div>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script src="dist/clipboard.min.js"></script>
      <script>
        //Initializing DOM elements
        const apiURL = 'https://api.quotable.io';
        const button = document.querySelector(".submit")
        const clipButton = document.querySelector(".addToClipboard")
        const quoteHolder = document.querySelector(".quoteHolder");
        const authorHolder = document.querySelector(".authorHolder");
        const popUpButton = document.querySelector(".searchPopUp");

        //Function for fetching random quote from API; Displays the quote at the quoteHolder element, the author name at the authorHolder element
        function fetchRandomQuote(quoteHolderElement, authorHolderElement) {
          const randomQuoteURL = 'https://api.quotable.io/random';
          const options = {method: 'GET', headers: {Accept: 'application/json'}};
          fetch(randomQuoteURL)
          .then(response => response.json())
          .then(quote => {
            quoteHolderElement.innerText = `"${quote.content}"`;
            authorHolderElement.innerText = `-${quote.author}`;
            quoteHolderElement.style.fontStyle = "italic";
            authorHolderElement.style.fontStyle = "italic";
            quoteHolderElement.classList.add("textToCopy")
          })
          .catch(error => {alert("Encountered error while displaying quote: ", error)});
        }
        button.addEventListener("click", event => {
          fetchRandomQuote(quoteHolder, authorHolder);
        })



        // Used for copying the generated quote, to the keyboard
        function copy() {
          const copyText = quoteHolder;
          copyText.select();
          document.execCommand("copy");
        }
        clipButton.addEventListener("click", copy);



        function fetchAuthorData() {
          //Fetch the data from the API
          const url = 'https://api.quotable.io/search/authors';
          const options = {method: 'GET', headers: {Accept: 'application/json'}};

          fetch(url, options) 
          .then(response => response.json())
          .then(data => {
            const authorID = data.results[0].id;
            const authorName = data.results[0].name;
            const authorDescription = data.results[0].description;
            const authorBio = data.results[0].bio;
            const authorLink = data.results[0].link;
            const authorQuoteCount = data.results[0].quoteCount;
          });

          }
            
            //`<h1 class="authorName">${authorName}</h1>
                                     // <h2 class=authorDescription>${authorDescription}</h2>`; // Add remaining page code
          
          // Creates a webpage which contains the personal data and some quotes of a given author
        
        //<input type="text" class="searchAuthors" placeholder=" ðŸ”Ž Search personalities">

        /* 
        [{
            "count": 20,
            "totalCount": 193,
            "page": 1,
            "totalPages": 10,
            "results": [
              {
                "_id": "xEVEeQ7m4KQT",
                "slug": "ralph-waldo-emerson",
                "name": "Ralph Waldo Emerson",
                "link": "https://en.wikipedia.org/wiki/Ralph_Waldo_Emerson",
                "bio": "Ralph Waldo Emerson (May 25, 1803 â€“ April 27, 1882) was an American essayist, lecturer, philosopher, and poet who led the transcendentalist movement of the mid-19th century. He was seen as a champion of individualism and a prescient critic of the countervailing pressures of society, and he disseminated his thoughts through dozens of published essays and more than 1,500 public lectures across the United States.",
                "description": "American philosopher",
                "quoteCount": 54
              }
            ]
}*/
        
      
      </script>
</body>
</html>